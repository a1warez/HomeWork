<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Список работников</title>
    <style>
        .sort-arrow {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-left: 5px;
            position: relative;
            cursor: pointer;
        }
        .sort-arrow.asc::before {
            content: '▲';
            color: black;
            font-size: 12px;
            position: absolute;
            top: 0;
            left: 0;
        }
        .sort-arrow.desc::before {
            content: '▼';
            color: black;
            font-size: 12px;
            position: absolute;
            top: 0;
            left: 0;
        }
        th {
            position: relative;
        }
        .sortable-header {
            text-decoration: none;
            color: inherit;
        }
    </style>
</head>
<body>
<h1>Список работников</h1>
<a th:href="@{/workers/new}">Добавить работника</a>

<form th:action="@{/workers}" method="get">
    <label for="name">Имя:</label>
    <input type="text" id="name" name="name" th:value="${name}" />
    <label for="eurname">Фамилия:</label>
    <input type="text" id="eurname" name="eurname" th:value="${eurname}" />
    <label for="positionType">Тип позиции:</label>
    <input type="text" id="positionType" name="positionType" th:value="${positionType}" />
    <button type="submit">Фильтровать</button>
</form>
    <thead>
    <tr>
        <th>
            <a class="sortable-header" th:href="@{/workers(sortBy='id', sortDirection=${sortBy == 'id' ? (sortDirection == 'asc' ? 'desc' : 'asc') : 'asc'})}">
                ID
                <span class="sort-arrow" th:classappend="${sortBy == 'id' ? (sortDirection == 'asc' ? 'asc' : 'desc') : ''}"></span>
            </a>
        </th>
        <th>
            <a class="sortable-header" th:href="@{/workers(sortBy='age', sortDirection=${sortBy == 'age' ? (sortDirection == 'asc' ? 'desc' : 'asc') : 'asc'})}">
                Возраст
                <span class="sort-arrow" th:classappend="${sortBy == 'age' ? (sortDirection == 'asc' ? 'asc' : 'desc') : ''}"></span>
            </a>
        </th>
        <th>
            <a class="sortable-header" th:href="@{/workers(sortBy='name', sortDirection=${sortBy == 'name' ? (sortDirection == 'asc' ? 'desc' : 'asc') : 'asc'})}">
                Имя
                <span class="sort-arrow" th:classappend="${sortBy == 'name' ? (sortDirection == 'asc' ? 'asc' : 'desc') : ''}"></span>
            </a>
        </th>
        <th>
            <a class="sortable-header" th:href="@{/workers(sortBy='eurname', sortDirection=${sortBy == 'eurname' ? (sortDirection == 'asc' ? 'desc' : 'asc') : 'asc'})}">
                Фамилия
                <span class="sort-arrow" th:classappend="${sortBy == 'eurname' ? (sortDirection == 'asc' ? 'asc' : 'desc') : ''}"></span>
            </a>
        </th>
        <th>
            <a class="sortable-header" th:href="@{/workers(sortBy='position.type', sortDirection=${sortBy == 'position.type' ? (sortDirection == 'asc' ? 'desc' : 'asc') : 'asc'})}">
                Тип
                <span class="sort-arrow" th:classappend="${sortBy == 'position.type' ? (sortDirection == 'asc' ? 'asc' : 'desc') : ''}"></span>
            </a>
        </th>
        <th>
            <a class="sortable-header" th:href="@{/workers(sortBy='email', sortDirection=${sortBy == 'email' ? (sortDirection == 'asc' ? 'desc' : 'asc') : 'asc'})}">
                Email
                <span class="sort-arrow" th:classappend="${sortBy == 'email' ? (sortDirection == 'asc' ? 'asc' : 'desc') : ''}"></span>
            </a>
        </th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="worker : ${workers}">
        <td th:text="${worker.id}"></td>
        <td th:text="${worker.age}"></td>
        <td th:text="${worker.name}"></td>
        <td th:text="${worker.eurname}"></td>
        <td th:text="${worker.position?.type}"></td>
        <td th:text="${worker.email}"></td>
        <td>
            <a th:href="@{/workers/edit/{id}(id=${worker.id})}">Редактировать</a>
            <a th:href="@{/workers/delete/{id}(id=${worker.id})}">Удалить</a>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>